<div class="page-header">
  <h1 class="pull-left" style="margin:8px 0px;">
    <!--Page Heading-->
    <span>{{ prodDashboardResource.pageheading }}</span>
  </h1>
  <!-- Header Close and Collapse -->
  <div class="pull-right" style="padding:0px !important; margin-top:2px !important; margin-bottom:2px;">
    <button 
      pButton           
      type="button" 
      (click)="refreshData()"
      icon="fa fa-refresh" 
      label="Refresh" 
      style="float:right;"
    >
    </button>
  </div>
</div>

<div class="content-section implementation">  
  <div class="ui-g">     
    <!-- Grinding Tasks Inventory Details -->
    <div class="ui-g-12 ui-g-nopad">
      <!-- Filter Section -->
      <p-card>
          <div class="ui-g"> 
               <!-- View Order By  -->
               <div class="ui-g-12 ui-md-3">                 
                  <label for="viewOrdersBy">{{ prodDashboardResource.viewOrdersBy }}</label>:

                  <p-dropdown
                    id="viewOrdersBy"
                    [(ngModel)]="filterSectionModels.viewOrdersBy"
                    [options]="viewOrdersByValues"                    
                    [autoWidth]="false"
                    class="clsControl"
                    name="viewOrdersBy">
                  </p-dropdown>
              </div>
              <!--End View Order By  -->
              <!-- Delivery Date  -->
              <div class="ui-g-12 ui-md-3" *ngIf="filterSectionModels.viewOrdersBy === 'DD'">                 
                  <label for="deliveryDate">{{ prodDashboardResource.deliveryDate }}</label>:

                  <p-calendar                                                            
                    [showIcon]="true"
                    readonlyInput="true"
                    showButtonBar="true"
                    [(ngModel)]="filterSectionModels.deliveryDate"
                    class="clsControl"
                    id="deliveryDate"
                    name="deliveryDate" 
                  >
                </p-calendar>
              </div>
              <!--End Delivery Date -->

              <!-- Begin Date  -->
              <div class="ui-g-12 ui-md-3" *ngIf="filterSectionModels.viewOrdersBy === 'DDR'">                 
                  <label for="beginDate">{{ prodDashboardResource.beginDate }}</label>:

                  <p-calendar                                                            
                    [showIcon]="true"
                    readonlyInput="true"
                    showButtonBar="true"
                    [(ngModel)]="filterSectionModels.beginDate"
                    [maxDate]="filterSectionModels.endDate" 
                    class="clsControl"
                    id="beginDate"
                    name="beginDate" 
                  >
                </p-calendar>
              </div>
              <!--End Begin Date -->

              <!-- End Date  -->
              <div class="ui-g-12 ui-md-3" *ngIf="filterSectionModels.viewOrdersBy === 'DDR'">                 
                  <label for="endDate">{{ prodDashboardResource.endDate }}</label>:

                  <p-calendar                                                            
                    [showIcon]="true"
                    readonlyInput="true"
                    showButtonBar="true"
                    [(ngModel)]="filterSectionModels.endDate"
                    [minDate]="filterSectionModels.beginDate" 
                    class="clsControl"
                    id="endDate"
                    name="endDate" 
                  >
                </p-calendar>
              </div>
              <!--End End Date -->

               <!-- Save default view checkbox  -->
               <div class="ui-g-12 ui-md-3" >
                  <label for="beginDate">&nbsp;</label>
                  <div class="clear"></div>
                <p-button  type="button" 
                  (click)="submitFilters()"
                  label="Submit" 
                  id="btnSubmitFilter" 
                  name="btnSubmitFilter" >
                </p-button>
            </div>
            <!-- End Save default view checkbox -->
          </div>

      </p-card>
      <div class="mainDiv">
       <span>
          <a href="#" class="clsIconPrint" [pTooltip]="prodDashboardResource.btnPrint"
              tooltipPosition="bottom" [routerLink]="" (click)="print()">
            <span  style="font-size:24px" class="fa fa-print"></span>
          </a>
       </span>
        <p-tabView (onChange)="onTabChange($event)" styleClass="clsTabView">
          <p-tabPanel header="{{prodDashboardResource.grindingTabHeader + ' - ' + (tabCountsData?.GrindingClaimCount || 0)}}"
            [selected]="selectedTabIndex === tabIndexName.GRINDING">
           
            <app-joints-dashboard-data
              *ngIf="isDataLoaded"
              [DashboardData]="dashboardObject"
              [IsPrintClicked]="isPrintClicked"
              [SelectedTabName]="selectedTabName"
              [FilterSectionModels]="filterSectionModels"
              >
            </app-joints-dashboard-data>
            <app-joints-dashboard-data-print
              *ngIf="isDataLoaded"
              [DashboardData]="dashboardObject"
              [IsPrintClicked]="isPrintClicked"
              [SelectedTabName]="selectedTabName"
              style="display:none;">
            </app-joints-dashboard-data-print>


          </p-tabPanel>
          <p-tabPanel header="{{prodDashboardResource.rollingTabHeader + ' - ' + (tabCountsData?.JointsClaimCount || 0)}}"
            [selected]="selectedTabIndex === tabIndexName.ROLLING"
            rightIcon="">
            
            <app-joints-dashboard-data
              *ngIf="isDataLoaded"
              [DashboardData]="dashboardObject"
              [IsPrintClicked]="isPrintClicked"
              [SelectedTabName]="selectedTabName"
              [FilterSectionModels]="filterSectionModels"
              >
            </app-joints-dashboard-data>
            <app-joints-dashboard-data-print
              *ngIf="isDataLoaded"
              [DashboardData]="dashboardObject"
              [IsPrintClicked]="isPrintClicked"
              [SelectedTabName]="selectedTabName"
              style="display:none;">
            </app-joints-dashboard-data-print>


          </p-tabPanel>
          <p-tabPanel header="{{prodDashboardResource.tampingTabHeader + ' - ' + (tabCountsData?.TampingClaimCount || 0)}}"
            [selected]="selectedTabIndex === tabIndexName.TAMPING"
            rightIcon="">

            <app-joints-dashboard-data
              *ngIf="isDataLoaded"
              [DashboardData]="dashboardObject"
              [IsPrintClicked]="isPrintClicked"
              [SelectedTabName]="selectedTabName"
              [FilterSectionModels]="filterSectionModels"
              >
            </app-joints-dashboard-data>
            <app-joints-dashboard-data-print
              *ngIf="isDataLoaded"
              [DashboardData]="dashboardObject"
              [IsPrintClicked]="isPrintClicked"
              [SelectedTabName]="selectedTabName"
              style="display:none;">
            </app-joints-dashboard-data-print>

          </p-tabPanel>
          <p-tabPanel header="{{prodDashboardResource.packagingTabHeader + ' - ' + (tabCountsData?.TubingClaimCount || 0)}}"
            [selected]="selectedTabIndex === tabIndexName.PACKAGING">
            <app-joints-dashboard-data
              *ngIf="isDataLoaded"
              [DashboardData]="dashboardObject"
              [IsPrintClicked]="isPrintClicked"
              [SelectedTabName]="selectedTabName"
              [FilterSectionModels]="filterSectionModels"
              >
            </app-joints-dashboard-data>
            <app-joints-dashboard-data-print
              *ngIf="isDataLoaded"
              [DashboardData]="dashboardObject"
              [IsPrintClicked]="isPrintClicked"
              [SelectedTabName]="selectedTabName"
              style="display:none;">
            </app-joints-dashboard-data-print>
          </p-tabPanel>
          <p-tabPanel header="{{prodDashboardResource.labelingTabHeader + ' - ' + (tabCountsData?.LabelingClaimCount || 0)}}"
            [selected]="selectedTabIndex === tabIndexName.LABELING">
            <app-joints-dashboard-data
              *ngIf="isDataLoaded"
              [DashboardData]="dashboardObject"
              [IsPrintClicked]="isPrintClicked"
              [SelectedTabName]="selectedTabName"
              [FilterSectionModels]="filterSectionModels"
              >
            </app-joints-dashboard-data>
            <app-joints-dashboard-data-print
              *ngIf="isDataLoaded"
              [DashboardData]="dashboardObject"
              [IsPrintClicked]="isPrintClicked"
              [SelectedTabName]="selectedTabName"
              style="display:none;">
            </app-joints-dashboard-data-print>
          </p-tabPanel>
        </p-tabView>
      </div>
    </div>
  </div>
</div>