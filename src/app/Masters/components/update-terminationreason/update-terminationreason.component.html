<div class="content-section implementation GridDemo orderRequest">
  <div class="ui-g">
    <div class="ui-g-12">
      <p-panel header="{{ pageheading }}" [(collapsed)]="collapsed" [toggleable]="true">
        <div>
        <form [formGroup]="updateTerminationReason" (ngSubmit)="onSubmit(updateTerminationReason.value)">
          <div class="ui-g">
            <div class="ui-g-12 ui-md-12" style="padding: 0">
              <a [routerLink]=""  class="btn-link" (click)="backToSectionsPge()" style="float: right;padding-right: 21px;text-decoration: underline" ><< Back</a>
             </div>
          </div>
          <div class="ui-g">
            <div class="ui-g-12 ui-md-4">
              <div class="paddingRL">
                <div class="le-su-12">
                  <label for="phase">Phase :</label><span class="star">*</span>
                  <p-dropdown
                  [options]="Phases"
                  [autoWidth]="true"
                  formControlName="phase"
                  (onChange)="GetAllDetails()"
                  id="phase"
                  class="clsControl"
                  name="phase">
                </p-dropdown>
                </div>
              </div>
            </div>
          </div>
          <div class="ui-g" *ngIf="viewdata">
            <div class="ui-g-12 ui-md-6">
              <div class="paddingRL">
                <label for="field" class="towlable"><b>Field Name:</b> {{AllSectionData.FieldName}} </label>
              </div>
              </div>
             
              <div class="ui-g-12 ui-md-6">
                <div class="paddingRL">
                  <label for="section" class="towlable"><b>Section Name:</b>
                    <span class="fa fa-pencil" (click)="editSectionInfo()"></span>
                    <input
                    class="inputtextbox"
                    name="section"
                    id="section"
                    type="text"
                    autocomplete="off"    
                    formControlName="section"
                    placeholder="Enter Section "
                    min="0.1" value="{{AllSectionData.SectionName}}"
                    [readonly]="editSection"></label>
                </div>
              </div>
               
                <div class="ui-g-12 ui-md-6">
                  <div class="paddingRL">
                    <label for="strain" class="towlable"><b>Strain Name:</b><span class="fa fa-pencil" (click)="editStrainInfo()"></span>
                      <span *ngIf="showStrainText" >{{AllSectionData.StrainName}}</span>
                      <p-dropdown
                      *ngIf="showStrainDropdown"
                      [options]="strains"
                      [autoWidth]="true"
                      formControlName="strain"
                      id="strain"
                      class="clsControl"
                      name="strain"
                     >
                    </p-dropdown></label>
                  </div>
                </div>
                 
                  <div class="ui-g-12 ui-md-6">
                    <div class="paddingRL">
                      <label for="TPC" class="towlable"><b>Total Plant Count:</b> 
                        <span class="fa fa-pencil" (click)="editTPCInfo()"></span>
                        <input
                        class="inputtextbox"
                        name="TPC"
                        id="TPC"
                        type="text"
                        autocomplete="off"    
                        formControlName="TPC"
                        placeholder="Enter Total Plant Count "
                        min="0.1" value="{{AllSectionData.TotalPlantCount}}"
                        [readonly]="editTPC"></label>
                    </div>
                  </div>
                  <div class="ui-g-12 ui-md-6">
                    <div class="paddingRL">
                      <label for="availpc" class="towlable"><b>Available Plant Count:</b> {{AllSectionData.AvailablePlantCnt}}</label>
                    </div>
                  </div>
                  <div class="ui-g-12 ui-md-6">
                    <div class="paddingRL">
                      <label for="termpc" class="towlable"><b>Terminated Plant Count:</b> {{AllSectionData.TerminatedPlantCnt}}</label>
                    </div>
                  </div>
                  <div class="ui-g-12 ui-md-6">
                    <div class="paddingRL">
                      <label for="compc" class="towlable"><b>Completed Plant Count:</b> {{AllSectionData.CompletedPlantCnt}}</label>
                    </div>
                  </div>
                    
                    <div class="ui-g-12 ui-md-6">
                      <div class="paddingRL">
                        <label for="year" class="towlable"><b>Year:</b>
                          <span class="fa fa-pencil" (click)="editYearInfo()"></span>
                          <input
                          class="inputtextbox"
                          name="year"
                          id="year"
                          type="text"
                          autocomplete="off"    
                          formControlName="year"
                          placeholder="Enter Year"
                          min="0.1" value="{{AllSectionData.Year}}"
                          [readonly]="editYear"></label>
                      </div>
                    </div>
                     
                      <div class="ui-g-12 ui-md-6">
                        <div class="paddingRL">
                          <label for="isld" class="towlable"><b>Light Deprevation:</b>
                            <span *ngIf="showLDText" >{{AllSectionData.IsLightDeprevation}}</span>
                            <span class="fa fa-pencil" (click)="editLD()"></span>
                            <p-dropdown
                            *ngIf="showLDDropdown"
                            [options]="ld"
                            [autoWidth]="true"
                            formControlName="ld"
                            id="ld"
                            class="clsControl"
                            name="ld"
                           >
                          </p-dropdown> </label>
                        </div>
                        </div>
                      
          </div>
         
          <div class="ui-g">
            <div class="ui-g-12 ui-md-4">
              <div class="paddingRL">
                <div class="le-su-12">
                  <label for="completed">Completed :</label>
                  <p-checkbox          
                  formControlName="completed"
                  binary="true"
                  (onChange)="enableAndDisableFields($event)"
                ></p-checkbox>
                </div>
              </div>
            </div>
            <div class="ui-g-12 ui-md-4" style="visibility: hidden;">
              <div class="paddingRL">
                <div class="le-su-12">
                  <label for="cpc">Completed Plant Count :</label>
                  <input type="text" 
                  pInputText 
                  autocomplete="off"
                  id="cpc" 
                  name="cpc" 
                  formControlName="cpc"         
                  class="clsControl"  
                  [readonly]="enabledisablefields"
                />
                </div>
              </div>
            </div>
            <div class="ui-g-12 ui-md-4" style="visibility: hidden;">
              <div class="paddingRL">
                <div class="le-su-12">
                  <label for="phase">Phase :</label><span class="star">*</span>
                  <p-dropdown
                  [options]="Phases"
                  [autoWidth]="true"
                  formControlName="phase"
                  id="phase"
                  class="clsControl"
                  name="phase">
                </p-dropdown>
                </div>
              </div>
            </div>
              <div class="ui-g-12 ui-md-4">
                <div class="paddingRL">
                  <div class="le-su-12">
                    <label for="tpc">Terminated Plant Count :</label>
                    <input 
                    type="text" 
                    pInputText 
                    autocomplete="off"
                    id="tpc" 
                    name="tpc" 
                    formControlName="tpc"         
                    class="clsControl"  
                    [readonly]="enabledisableTerminationFields"
                  />
                  </div>
                </div>
              </div>
              <div class="ui-g-12 ui-md-4">
                <div class="paddingRL">
                  <div class="le-su-12">
                    <label for="Terminationreason">Termination Reason :</label>
                    <p-dropdown
                    [options]="TerminatioReasons"
                    [autoWidth]="true"
                    formControlName="Terminationreason"
                    id="Terminationreason"
                    class="clsControl"
                    name="Terminationreason"
                    [disabled]="enabledisableTerminationFields">
                  </p-dropdown>
                  </div>
                </div>
              </div>
            </div>
            <div class="ui-g" style="width:100%;text-align:right;">
              <div class="ui-g-12">
                <button pButton type="submit" label="Save" ></button>
              </div>
            </div>
        </form>
      </div>
      <div class="ui-g" >
        <div class="paddingRL">
          <div class="le-su-12">
            <h6><b>History</b></h6>
          </div>
        </div>
      </div>
      <p-table  [value]="allUpdatedTerminationlist">
        <ng-template pTemplate="header">
          <tr>
              
              <th>Termination Date</th>
              <th>Terminated Plant Count</th>
              <th>Termination Reason</th>
              <th>Phase</th>
              <th>Action</th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-taskstatus>
        <tr>
            <td>{{taskstatus.TerminationDate}}</td>
            <td>{{taskstatus.TerminatedPlantCount}}</td>
            <td>{{taskstatus.TerminationReason}}</td>
            <td>{{taskstatus.TaskName}}</td>
            <td><a href="#" [routerLink]="" (click)="editTerminationdata(taskstatus)">
              <span class="fa fa-edit"></span>
            </a></td>
        </tr>
    </ng-template>
    <!-- <ng-template pTemplate="paginatorleft" let-state>
      <pagination-counts *ngIf="allUpdatedTerminationlist?.length" [inputData]="allUpdatedTerminationlist" [inputEvent]="event">
      </pagination-counts>
    </ng-template> -->
      </p-table>
      </p-panel>
    </div>
  </div>
</div>
<p-growl [(value)]="msgs" life='5000'></p-growl>
<p-confirmDialog header="Confirmation" icon="fa fa-question-circle" width="425" *ngIf="true" class="clsConfirmBox">
</p-confirmDialog>